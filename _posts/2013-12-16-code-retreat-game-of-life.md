---
layout: post
title: "QClub全球编程日见闻与有感"
description: ""
category: 
tags: []
---
{% include JB/setup %}

上周六参与了QClub Global Code Retreat全球编程日的天津站活动，这里整理一下当天的一些经过和自己的一些感受。   

![activity]({{ BASE_PATH }}/assets/images/CodeRetreat-all.jpg)

先给提供场地的[@天津纳吧创业咖啡](http://www.weibo.com/nsdkb) 免费打个广告，环境清悠，设备齐全，赞一下。

本次的活动主要是通过反复结对编程实现[生命游戏](http://zh.wikipedia.org/zh-cn/%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F)（链接内有详细描述），来进行敏捷开发中测试驱动等方面的练习。

有意思的是，这个看似简单的问题，仅仅是对它的理解，所有的参会者们直到第二轮结对结束的午饭时间之前，才消除了彼此的重大分歧。可以说上午的两次迭代几乎只是脑力的一次热身。大家到下午才开始进入状态。

经历了前两次迭代熟悉问题之后，下午的迭代开始正式加入了测试驱动，对于如何写出可测试的程序，教练[@申导](http://www.weibo.com/u/1001863751) 做的演示给我了很大的启发。之前的迭代中，我一直试图建立一个初始状态随机的细胞类的矩阵，而这个矩阵是一个操纵它的工作类的内部成员，这个思路当然没有问题，但随机的初始状态由于作为工作类的内部状态，其不可预测性使得单元测试成为不可能。教练的Demo则是将一个随机产生初始状态的功能与工作类剥离，使初始状态成为工作类的外部输入，这样有了可预测试的输入，才能进行可预测的单元测试。

本次活动中我使用了C与C#这两种开发语言开发控制台程序进行问题的模拟，但没有图像的直观感受始终不尽如意，于是活动之后，我又使用html5+js实现了一个[在线可视化版本](http://htmlexercises.ap01.aws.af.cm/201312/game-of-life.html)，并且添加了图形化的单元测试。

可视化版本的开发中，因为js二维数组深拷贝的问题，一度没能得到正确的结果，后来在借助万能的互联网才发现slice()函数的局限性。还有对this对象引用的作用域，也有了一些新的理解。

这个可视化初步可测试的版本直到今天早上才开发结束，也不由感叹自己驾驭代码的能力仍需提高啊。

有趣的小细节：   

* 生命游戏是对初始状态极为敏感的，一个细胞生死状态的扰动，可能使得全局成为一个循环平衡态或是一个衡定态，又或者最后全部死亡。
* 假如死细胞的复活条件从周围有正好3个活细胞，改成周围有3个及以上的活细胞，就会发现细胞会像一个菌落一样越发壮大，最后充满全局，躁动不已，像是老式模拟信号的电视的白噪点。